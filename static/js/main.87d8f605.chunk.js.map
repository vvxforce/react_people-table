{"version":3,"sources":["Person.js","PeopleTable.js","PeopleList.js","App.js","index.js"],"names":["Person","_ref","person","selectHandler","selectedPerson","react_default","a","createElement","onClick","id","className","born","name","sex","died","mother","father","age","century","PeopleTable","handleSortClick","filteredPeople","map","src_Person","key","API_URL","PeopleList","_useState","useState","_useState2","Object","slicedToArray","people","setPeople","_useState3","_useState4","setSelectedPerson","history","useHistory","location","useLocation","searchParams","URLSearchParams","search","sortBy","get","sortOrder","toConsumableArray","filter","toLowerCase","includes","peopleArr","field","sortedPeople","sort","b","localeCompare","reverse","sortPeople","useEffect","peopleFromServer","preparedPeople","regenerator_default","async","_context","prev","next","awrap","fetch","then","response","json","sent","index","objectSpread2","Math","ceil","stop","loadPeople","query","Fragment","lib","debounceTimeout","type","placeholder","onChange","event","value","target","trim","set","push","toString","length","src_PeopleTable","textContent","App","react_router_dom","to","exact","react_router","path","render","component","ReactDOM","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.87d8f605.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Person = ({ person, selectHandler, selectedPerson }) => (\n  <tr\n    onClick={() => selectHandler(person.id)}\n    className={selectedPerson === person.id ? 'selected' : ''}\n  >\n    <th>{person.id}</th>\n    <th className={person.born < 1650 ? 'line-through' : ''}>{person.name}</th>\n    <th className={person.sex === 'm' ? 'man' : 'woman'}>{person.sex}</th>\n    <th>{person.born}</th>\n    <th>{person.died}</th>\n    <th>{person.mother}</th>\n    <th>{person.father}</th>\n    <th className={person.age >= 65 ? 'oldest' : ''}>{person.age}</th>\n    <th>{person.century}</th>\n  </tr>\n);\n\nPerson.propTypes = {\n  person: PropTypes.objectOf(\n    PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.number,\n    ])\n  ).isRequired,\n  selectHandler: PropTypes.func.isRequired,\n  selectedPerson: PropTypes.number.isRequired,\n};\n\nexport default Person;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Person from './Person';\n\nconst PeopleTable = ({\n  handleSortClick,\n  filteredPeople,\n  selectedPerson,\n  selectHandler,\n}) => (\n  <table className=\"table\">\n    <thead>\n      <tr className=\"tableTitle\" onClick={handleSortClick}>\n        <th>id</th>\n        <th>name</th>\n        <th>sex</th>\n        <th>born</th>\n        <th>died</th>\n        <th>mother</th>\n        <th>father</th>\n        <th>age</th>\n        <th>century</th>\n      </tr>\n    </thead>\n    <tbody>\n      {filteredPeople.map(person => (\n        <Person\n          person={person}\n          key={person.id}\n          selectHandler={selectHandler}\n          selectedPerson={selectedPerson}\n        />\n      ))}\n    </tbody>\n  </table>\n);\n\nPeopleTable.propTypes = {\n  handleSortClick: PropTypes.func.isRequired,\n  selectedPerson: PropTypes.number.isRequired,\n  selectHandler: PropTypes.func.isRequired,\n  filteredPeople: PropTypes.arrayOf(PropTypes.any).isRequired,\n};\n\nexport default PeopleTable;\n","import React, { useState, useEffect } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { DebounceInput } from 'react-debounce-input';\nimport PeopleTable from './PeopleTable';\n\n// eslint-disable-next-line\nconst API_URL = 'https://mate-academy.github.io/react_people-table/api/people.json';\nconst getPeopleFromServer = () => fetch(API_URL)\n  .then(response => response.json());\n\nconst PeopleList = () => {\n  const [people, setPeople] = useState([]);\n  const [selectedPerson, setSelectedPerson] = useState(0);\n  const history = useHistory();\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const sortBy = searchParams.get('sortBy');\n  const sortOrder = searchParams.get('sortOrder');\n\n  let filteredPeople = [...people]\n    .filter(person => (person.name + person.mother + person.father)\n      .toLowerCase()\n      .includes(searchParams.get('query') || ''));\n\n  const selectHandler = id => setSelectedPerson(id);\n\n  filteredPeople = sortPeople([...filteredPeople], sortBy, sortOrder);\n\n  useEffect(() => {\n    const loadPeople = async() => {\n      const peopleFromServer = await getPeopleFromServer(API_URL);\n      const preparedPeople = peopleFromServer.map((person, index) => ({\n        ...person,\n        id: index + 1,\n        age: person.died - person.born,\n        mother: person.mother || '',\n        father: person.father || '',\n        century: Math.ceil(person.died / 100),\n      }));\n\n      setPeople(preparedPeople);\n    };\n\n    loadPeople();\n  }, []);\n\n  function sortPeople(peopleArr, field) {\n    const sortedPeople = [...peopleArr]\n      .sort((a, b) => (typeof a[field] === 'string'\n        ? a[field].localeCompare(b[field])\n        : a[field] - b[field]));\n\n    return sortOrder === 'desc' ? sortedPeople.reverse() : sortedPeople;\n  }\n\n  const query = searchParams.get('query') || '';\n\n  const filterPeople = (event) => {\n    const value = event.target.value.trim().toLowerCase();\n\n    searchParams.set('query', value);\n    history.push({ search: searchParams.toString() });\n  };\n\n  const handleSortClick = (event) => {\n    const field = event.target.textContent;\n\n    if (sortBy !== field) {\n      searchParams.set('sortBy', field);\n      searchParams.set('sortOrder', 'asc');\n    } else {\n      searchParams.set('sortOrder', sortOrder === 'asc' ? 'desc' : 'asc');\n    }\n\n    history.push({ search: searchParams.toString() });\n  };\n\n  return (\n    <>\n      <h1>People Table</h1>\n      <DebounceInput\n        debounceTimeout={1000}\n        type=\"search\"\n        placeholder=\"search\"\n        onChange={filterPeople}\n        className=\"input\"\n        value={query}\n      />\n      {filteredPeople.length === 0\n        ? <p>Person  is not found</p>\n        : (\n          <PeopleTable\n            filteredPeople={filteredPeople}\n            handleSortClick={handleSortClick}\n            selectHandler={selectHandler}\n            selectedPerson={selectedPerson}\n          />\n        )\n      }\n    </>\n  );\n};\n\nexport default PeopleList;\n","import React from 'react';\nimport { NavLink, Route, Switch, HashRouter } from 'react-router-dom';\nimport PeopleList from './PeopleList';\nimport './App.css';\n\nconst App = () => (\n  <HashRouter>\n    <div className=\"container\">\n      <NavLink\n        className=\"link\"\n        to=\"/\"\n        exact\n      >\n        Home\n      </NavLink>\n      <NavLink className=\"link\" to=\"/people\">People Table</NavLink>\n      <Switch>\n        <Route path=\"/\" exact render={() => <h1>Home Page</h1>} />\n        <Route path=\"/people/:name?\" component={PeopleList} />\n      </Switch>\n    </div>\n  </HashRouter>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}
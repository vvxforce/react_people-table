(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,a){e.exports=a(36)},35:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(18),c=a.n(l),o=a(8),s=a(5),u=a(11),m=a.n(u),i=a(22),h=a(9),d=a(14),E=a(19),p=function(e){var t=e.person,a=e.selectHandler,n=e.selectedPerson;return r.a.createElement("tr",{onClick:function(){return a(t.id)},className:n===t.id?"selected":""},r.a.createElement("th",null,t.id),r.a.createElement("th",{className:t.born<1650?"line-through":""},t.name),r.a.createElement("th",{className:"m"===t.sex?"man":"woman"},t.sex),r.a.createElement("th",null,t.born),r.a.createElement("th",null,t.died),r.a.createElement("th",null,t.mother),r.a.createElement("th",null,t.father),r.a.createElement("th",{className:t.age>=65?"oldest":""},t.age),r.a.createElement("th",null,t.century))},f=function(e){var t=e.handleSortClick,a=e.filteredPeople,n=e.selectedPerson,l=e.selectHandler;return r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"tableTitle",onClick:t},r.a.createElement("th",null,"id"),r.a.createElement("th",null,"name"),r.a.createElement("th",null,"sex"),r.a.createElement("th",null,"born"),r.a.createElement("th",null,"died"),r.a.createElement("th",null,"mother"),r.a.createElement("th",null,"father"),r.a.createElement("th",null,"age"),r.a.createElement("th",null,"century"))),r.a.createElement("tbody",null,a.map(function(e){return r.a.createElement(p,{person:e,key:e.id,selectHandler:l,selectedPerson:n})})))},b="https://mate-academy.github.io/react_people-table/api/people.json",g=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(0),o=Object(d.a)(c,2),u=o[0],p=o[1],g=Object(s.f)(),y=Object(s.g)(),v=new URLSearchParams(y.search),O=v.get("sortBy"),j=v.get("sortOrder"),w=Object(h.a)(a).filter(function(e){return(e.name+e.mother+e.father).toLowerCase().includes(v.get("query")||"")});w=function(e,t){var a=Object(h.a)(e).sort(function(e,a){return"string"===typeof e[t]?e[t].localeCompare(a[t]):e[t]-a[t]});return"desc"===j?a.reverse():a}(Object(h.a)(w),O),Object(n.useEffect)(function(){!function(){var e,t;m.a.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,m.a.awrap(fetch(b).then(function(e){return e.json()}));case 2:e=a.sent,t=e.map(function(e,t){return Object(i.a)({},e,{id:t+1,age:e.died-e.born,mother:e.mother||"",father:e.father||"",century:Math.ceil(e.died/100)})}),l(t);case 5:case"end":return a.stop()}})}()},[]);var P=v.get("query")||"";return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"People Table"),r.a.createElement(E.DebounceInput,{debounceTimeout:1e3,type:"search",placeholder:"search",onChange:function(e){var t=e.target.value.trim().toLowerCase();v.set("query",t),g.push({search:v.toString()})},className:"input",value:P}),0===w.length?r.a.createElement("p",null,"Person  is not found"):r.a.createElement(f,{filteredPeople:w,handleSortClick:function(e){var t=e.target.textContent;O!==t?(v.set("sortBy",t),v.set("sortOrder","asc")):v.set("sortOrder","asc"===j?"desc":"asc"),g.push({search:v.toString()})},selectHandler:function(e){return p(e)},selectedPerson:u}))},y=(a(35),function(){return r.a.createElement(o.a,null,r.a.createElement("div",{className:"container"},r.a.createElement(o.b,{className:"link",to:"/",exact:!0},"Home"),r.a.createElement(o.b,{className:"link",to:"/people"},"People Table"),r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/",exact:!0,render:function(){return r.a.createElement("h1",null,"Home Page")}}),r.a.createElement(s.a,{path:"/people/:name?",component:g}))))});c.a.render(r.a.createElement(y,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.87d8f605.chunk.js.map